<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 049 - Restricciones a Nivel de Columna</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(20px);
        }
        
        .header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .section {
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-3px);
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.6rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .icon {
            font-size: 1.4rem;
            color: #e74c3c;
        }
        
        .restrictions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .restriction-card {
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease;
            color: white;
        }
        
        .restriction-card:hover {
            transform: scale(1.05);
        }
        
        .not-null {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }
        
        .unique {
            background: linear-gradient(135deg, #fd79a8, #e84393);
        }
        
        .primary-key {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }
        
        .restriction-card h3 {
            margin-bottom: 10px;
            font-size: 1.3rem;
        }
        
        .code-example {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .code-example .keyword {
            color: #3498db;
            font-weight: bold;
        }
        
        .code-example .type {
            color: #e74c3c;
        }
        
        .code-example .constraint {
            color: #f39c12;
        }
        
        .example-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        
        .example-section h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .test-result {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .success {
            background: linear-gradient(135deg, #d4fc79, #96e6a1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }
        
        .error {
            background: linear-gradient(135deg, #ff7675, #fd79a8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #d63031;
        }
        
        .highlight-box {
            background: linear-gradient(120deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #e17055;
        }
        
        .warning-box {
            background: linear-gradient(120deg, #ff7675 0%, #fd79a8 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #d63031;
        }
        
        .tip-box {
            background: linear-gradient(120deg, #d4fc79 0%, #96e6a1 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #27ae60;
        }
        
        .table-example {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
        }
        
        .table-example table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .table-example th {
            background: #e74c3c;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .table-example td {
            padding: 10px 12px;
            border-bottom: 1px solid #eee;
        }
        
        .table-example tr:hover {
            background: #f8f9fa;
        }
        
        .null-explanation {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #95a5a6;
        }
        
        @media (max-width: 768px) {
            .restrictions {
                grid-template-columns: 1fr;
            }
            
            .test-result {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîí Clase 049 - CREATE TABLE</h1>
            <p>Restricciones a Nivel de Columna</p>
        </div>
        
        <div class="content">
            <div class="section">
                <h2><span class="icon">üéØ</span>Restricciones a Nivel de Columna</h2>
                <p>Las restricciones de columna se aplican directamente despu√©s del tipo de datos y controlan qu√© valores pueden almacenarse en cada campo.</p>
                
                <div class="code-example">
<span class="keyword">CREATE COLUMN TABLE</span> tabla_ejemplo (
    campo1 <span class="type">INTEGER</span> <span class="constraint">NOT NULL</span>,
    campo2 <span class="type">VARCHAR(50)</span> <span class="constraint">UNIQUE</span>,
    campo3 <span class="type">INTEGER</span> <span class="constraint">PRIMARY KEY</span>
);
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">üîê</span>Tipos de Restricciones</h2>
                <div class="restrictions">
                    <div class="restriction-card not-null">
                        <h3>NOT NULL</h3>
                        <p>No permite valores nulos en el campo</p>
                        <small>Obliga a introducir un valor</small>
                    </div>
                    <div class="restriction-card unique">
                        <h3>UNIQUE</h3>
                        <p>No permite valores repetidos</p>
                        <small>Cada valor debe ser √∫nico</small>
                    </div>
                    <div class="restriction-card primary-key">
                        <h3>PRIMARY KEY</h3>
                        <p>Combina NOT NULL + UNIQUE</p>
                        <small>Identifica registros √∫nicamente</small>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">üö´</span>Restricci√≥n NOT NULL</h2>
                <div class="example-section">
                    <h4>üß™ Ejemplo Pr√°ctico</h4>
                    <div class="code-example">
<span class="keyword">CREATE COLUMN TABLE</span> prueba_restriccion (
    valor1 <span class="type">INTEGER</span> <span class="constraint">NOT NULL</span>
);
                    </div>
                    
                    <div class="test-result">
                        <div class="error">
                            <strong>‚ùå Inserci√≥n Fallida</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px;">
INSERT INTO prueba_restriccion VALUES (NULL);
-- Error: No se puede insertar NULL
                            </div>
                        </div>
                        <div class="success">
                            <strong>‚úÖ Inserci√≥n Exitosa</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px; color: #fff;">
INSERT INTO prueba_restriccion VALUES (123);
-- Se inserta correctamente
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tip-box">
                    <strong>üí° Uso Pr√°ctico:</strong><br>
                    Similar a campos obligatorios en formularios web. Garantiza que informaci√≥n cr√≠tica como nombres, emails, etc., no quede vac√≠a.
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">‚≠ê</span>Restricci√≥n UNIQUE</h2>
                <div class="example-section">
                    <h4>üß™ Ejemplo Pr√°ctico</h4>
                    <div class="code-example">
<span class="keyword">CREATE COLUMN TABLE</span> prueba_restriccion (
    valor1 <span class="type">INTEGER</span> <span class="constraint">UNIQUE</span>
);
                    </div>
                    
                    <div class="test-result">
                        <div class="success">
                            <strong>‚úÖ Primera Inserci√≥n</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px; color: #fff;">
INSERT INTO prueba_restriccion VALUES (1);
-- Se inserta correctamente
                            </div>
                        </div>
                        <div class="error">
                            <strong>‚ùå Inserci√≥n Duplicada</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px;">
INSERT INTO prueba_restriccion VALUES (1);
-- Error: Constraint UNIQUE violada
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="null-explanation">
                    <strong>ü§î Caso Especial con NULL:</strong><br>
                    Los valores NULL se pueden repetir en campos UNIQUE porque NULL representa "ausencia de valor", no un valor en s√≠ mismo.
                    
                    <div class="code-example">
<span class="keyword">INSERT INTO</span> prueba_restriccion <span class="keyword">VALUES</span> (NULL); -- ‚úÖ Permitido
<span class="keyword">INSERT INTO</span> prueba_restriccion <span class="keyword">VALUES</span> (NULL); -- ‚úÖ Tambi√©n permitido
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">üîë</span>Restricci√≥n PRIMARY KEY</h2>
                <div class="example-section">
                    <h4>üß™ Ejemplo Pr√°ctico</h4>
                    <div class="code-example">
<span class="keyword">CREATE COLUMN TABLE</span> prueba_restriccion (
    valor1 <span class="type">INTEGER</span> <span class="constraint">PRIMARY KEY</span>
);
                    </div>
                    
                    <div class="test-result">
                        <div class="error">
                            <strong>‚ùå NULL No Permitido</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px;">
INSERT INTO prueba_restriccion VALUES (NULL);
-- Error: No se puede insertar NULL
                            </div>
                        </div>
                        <div class="error">
                            <strong>‚ùå Duplicados No Permitidos</strong>
                            <div class="code-example" style="background: rgba(0,0,0,0.2); margin-top: 10px;">
INSERT INTO prueba_restriccion VALUES (1);
INSERT INTO prueba_restriccion VALUES (1);
-- Error: Constraint UNIQUE violada
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <strong>üéØ Concepto de Clave Primaria:</strong><br>
                    Campo o conjunto de campos que identifica de forma √∫nica cada registro en la tabla. Como el DNI para las personas.
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">üìä</span>Ejemplo: Tabla de Alumnos</h2>
                <div class="table-example">
                    <table>
                        <thead>
                            <tr>
                                <th>ID (PRIMARY KEY)</th>
                                <th>Nombre (NOT NULL)</th>
                                <th>Email (UNIQUE)</th>
                                <th>DNI (UNIQUE)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Daniel</td>
                                <td>daniel@email.com</td>
                                <td>12345678A</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Mar√≠a</td>
                                <td>maria@email.com</td>
                                <td>87654321B</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Juan</td>
                                <td>juan@email.com</td>
                                <td>11223344C</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="code-example">
<span class="keyword">CREATE COLUMN TABLE</span> alumnos (
    id <span class="type">INTEGER</span> <span class="constraint">PRIMARY KEY</span>,
    nombre <span class="type">VARCHAR(100)</span> <span class="constraint">NOT NULL</span>,
    email <span class="type">VARCHAR(100)</span> <span class="constraint">UNIQUE</span>,
    dni <span class="type">VARCHAR(10)</span> <span class="constraint">UNIQUE</span>
);
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">‚ö°</span>Ventajas del PRIMARY KEY</h2>
                <div class="tip-box">
                    <strong>üöÄ Beneficios Autom√°ticos:</strong><br>
                    ‚Ä¢ <strong>√çndice autom√°tico:</strong> Se crea autom√°ticamente para b√∫squedas r√°pidas<br>
                    ‚Ä¢ <strong>Identificaci√≥n √∫nica:</strong> Garantiza que cada registro sea √∫nico<br>
                    ‚Ä¢ <strong>B√∫squedas optimizadas:</strong> Las consultas por clave primaria son m√°s r√°pidas<br>
                    ‚Ä¢ <strong>Integridad referencial:</strong> Base para relaciones entre tablas
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">‚ö†Ô∏è</span>Consideraciones Importantes</h2>
                <div class="warning-box">
                    <strong>üîç Limitaciones de las Restricciones:</strong><br>
                    ‚Ä¢ Las restricciones no son infalibles (ej: un espacio en blanco pasa NOT NULL)<br>
                    ‚Ä¢ Son controles a nivel de base de datos, no reemplazan validaciones en la aplicaci√≥n<br>
                    ‚Ä¢ PRIMARY KEY de un campo se hace a nivel de columna<br>
                    ‚Ä¢ Para claves primarias compuestas se necesitan restricciones a nivel de tabla
                </div>
            </div>
            
            <div class="section">
                <h2><span class="icon">üéì</span>Resumen</h2>
                <div class="tip-box">
                    <strong>üìù Puntos Clave:</strong><br>
                    ‚Ä¢ <strong>NOT NULL:</strong> Obliga a introducir un valor<br>
                    ‚Ä¢ <strong>UNIQUE:</strong> No permite duplicados (excepto NULL)<br>
                    ‚Ä¢ <strong>PRIMARY KEY:</strong> Combina NOT NULL + UNIQUE + √≠ndice autom√°tico<br>
                    ‚Ä¢ Las restricciones se eval√∫an al insertar/actualizar datos<br>
                    ‚Ä¢ Los errores incluyen c√≥digo y descripci√≥n para manejo de excepciones
                </div>
            </div>
        </div>
    </div>
</body>
</html>